<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en-x-mtfrom-ja"><head><script>(function(){var ti_a=function(b){this.t={};this.tick=function(b,c,a){a=void 0!=a?a:(new Date).getTime();this.t[b]=[a,c]};this.tick("start",null,b)},ti_b=new ti_a;window.jstiming={Timer:ti_a,load:ti_b};if(window.performance&&window.performance.timing){var ti_c=window.performance.timing,ti_=window.jstiming.load,ti_d=ti_c.navigationStart,ti_e=ti_c.responseStart;0<ti_d&&ti_e>=ti_d&&(ti_.tick("_wtsrt",void 0,ti_d),ti_.tick("wtsrt_","_wtsrt",ti_e),ti_.tick("tbsd_","wtsrt_"))}
try{var ti_f=null;window.chrome&&window.chrome.csi&&(ti_f=Math.floor(window.chrome.csi().pageT),ti_&&0<ti_d&&(ti_.tick("_tbnd",void 0,window.chrome.csi().startE),ti_.tick("tbnd_","_tbnd",ti_d)));null==ti_f&&window.gtbExternal&&(ti_f=window.gtbExternal.pageT());null==ti_f&&window.external&&(ti_f=window.external.pageT,ti_&&0<ti_d&&(ti_.tick("_tbnd",void 0,window.external.startE),ti_.tick("tbnd_","_tbnd",ti_d)));ti_f&&(window.jstiming.pt=ti_f)}catch(ti_g){};})()
</script><script src="translate_p_data/translate_c.js"></script><script>_infowindowVersion=1;_intlStrings._originalText = "Original Japanese text:";_intlStrings._interfaceDirection="ltr";_intlStrings._interfaceAlign="left";_intlStrings._langpair="ja|en";_intlStrings._feedbackUrl="http://translate.google.com/translate_suggestion";_intlStrings._currentBy="Current translation on %1$s by %2$s";_intlStrings._unknown="unknown";_intlStrings._suggestTranslation="Contribute a better translation"  ;_intlStrings._submit="Contribute";_intlStrings._suggestThanks="Thank you for contributing your translation suggestion to Google Translate.";_intlStrings._reverse=false;</script><style type="text/css">.google-src-text {display: none !important} .google-src-active-text {display: block!important;color:black!important; font-size:12px!important;font-family:arial,sans-serif!important}.google-src-active-text a {font-size:12px!important}.google-src-active-text a:link {color:#00c!important;text-decoration:underline!important}.google-src-active-text a:visited {color:purple!important;text-decoration:underline!important}.google-src-active-text a:active {color:red!important;text-decoration:underline!important}</style><meta http-equiv="X-Translated-By" content="Google"><link href="http://www.kako.com/neta/2008-009/2008-009.html" hreflang="ja" rel="alternate machine-translated-from"><!-- base href="http://www.kako.com/neta/2008-009/2008-009.html" --><title> Small story </title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 9.0.0.0 for Windows"><meta http-equiv="Content-Style-Type" content="text/css"><script type="text/javascript" src="translate_p_data/header.js"></script><link href="translate_p_data/iw_sprite.css" type="text/css" rel="stylesheet"></head><body onload="loadDataFile('../neta_list.txt')" alink="#0000a0" bgcolor="#ffffff" link="#0000a0" text="#000000" vlink="#0000a0"><iframe src="translate_p_data/translate_un.htm" style="width: 0px; height: 0px; border: 0px none; display: none;" frameborder="0" height="0" width="0"></iframe><div id="result"></div><script type="text/javascript"><!--
google_ad_client = "pub-0609829366476323";
/* kako.com wii mod page top 728x90 */
google_ad_slot = "5826197661";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script><script type="text/javascript" src="translate_p_data/show_ads.js">
</script><ins style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px"><iframe allowtransparency="true" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){w.location.replace(h)}}" vspace="0" id="aswift_0" name="aswift_0" style="left: 0pt; position: absolute; top: 0pt;" frameborder="0" height="90" scrolling="no" width="728"></iframe></ins></ins><p> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">小ネタ 2008-009</span> 2008-009 small story</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Wiiリモコンの赤外線センサをマイコンに接続して使ってみる (+マウス化)</span> I used to connect to the microcontroller of the Wii remote infrared sensor (f + mouse)</span> <br><br></p><hr><p> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">去年(2007年)、 <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2007-001/2007-001.html&amp;usg=ALkJrhj_YvuzR4Ts83WDfXc8UkOXTtWNZg">Wiiリモコンのポインティング用赤外線センサを解析して、他の機器に接続する方法</a>を試した。</span> Last year (2007), <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2007-001/2007-001.html&amp;usg=ALkJrhj_YvuzR4Ts83WDfXc8UkOXTtWNZg">how to analyze the infrared sensor for the pointing of the Wii remote to connect to other devices</a> I tried.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">その続きで、今回は、AVRマイコンを使った<a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2008-006/2008-006.html&amp;usg=ALkJrhiWUbRO96ljq3Ly8qpHwxoxEAFE5A">Arduino</a>キットに接続する回路を試作してみた。</span> Its continuation, this time, using the AVR microcontroller <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2008-006/2008-006.html&amp;usg=ALkJrhiWUbRO96ljq3Ly8qpHwxoxEAFE5A">Arduino</a> I tried to prototype a circuit connected to the kit.</span> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(2008-04-13)</span> (2008-04-13)</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">1. ハードウェア</span> One. Hardware</span> <br><br><img src="translate_p_data/photo1.jpg" alt="" align="BOTTOM" height="240" width="320"><img src="translate_p_data/photo2.jpg" alt="" align="BOTTOM" height="240" width="320"><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">基板はArduinoキットに試作用のユニバーサル基板を重ねている。</span> The substrate overlaid universal board for Arduino kit prototype.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">白い棒状のケースにはWiiリモコンから取り出したセンサと<a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2007-001/2007-001.html&amp;usg=ALkJrhj_YvuzR4Ts83WDfXc8UkOXTtWNZg">自作回路</a>が入っている。</span> A sensor that is removed from the Wii Remote white rod cases <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2007-001/2007-001.html&amp;usg=ALkJrhj_YvuzR4Ts83WDfXc8UkOXTtWNZg">own circuit</a> is turned on.</span> <br><br><img src="translate_p_data/circuit1.png" alt="" align="BOTTOM" border="1"><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">接続は、この図のように接続している。</span> Connection is connected as shown in this figure.</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・Wiiリモコン赤外線センサ回路 ・I2C電圧変換シールド ・Arduino Diecimila</span> Shield · Arduino Diecimila · I2C voltage conversion circuit Wii remote IR sensor</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">以上の3つの部分で構成されている。</span> It consists of three parts or more.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">3.3Vで動作する赤外線センサを、5Vで動作するマイコンに接続するために電圧変換が必要である。</span> Voltage conversion is required to connect the microcomputer to operate at 5V, the infrared sensor operating at 3.3V.</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Wiiリモコン赤外線センサ回路は、 <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2007-001/2007-001.html&amp;usg=ALkJrhj_YvuzR4Ts83WDfXc8UkOXTtWNZg">前に作った回路</a>と同じものを小型にして作り直した。</span> Wii remote infrared sensor circuit, the <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2007-001/2007-001.html&amp;usg=ALkJrhj_YvuzR4Ts83WDfXc8UkOXTtWNZg">circuit made ​​before</a> I recreate it the same as the compact.</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">I2C電圧変換シールドは、試作用のPrototype Shieldというユニバーサル基板を使って作った。</span> Shield I2C voltage conversion is made using the universal board that Prototype Shield for the prototype.</span> <br><img src="translate_p_data/photo3.jpg" alt="" align="BOTTOM" height="240" width="320"><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">I2C電圧変換シールドは、Aruduinoの基板の上に重ねるように接続する。</span> The I2C voltage conversion shield, coupled to a substrate superimposed on Aruduino.</span> <br><br><img src="translate_p_data/circuit2.png" alt="" align="BOTTOM" border="1"><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">I2C電圧変換の回路は、LTC4301LというICを使用して作った。</span> I2C voltage conversion circuit is made by using the IC that LTC4301L.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">このICは、I2Cバスの電圧を変換する。</span> This IC converts the voltage of the I2C bus.</span> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">LTC4301Lでなく、LTC4301でも動くはず。</span> Not LTC4301L, but it should work LTC4301.</span> <br><br><br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">2. ソフトウェア</span> 2. Software</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">前回のソースコードを元にして、Arduino用のソフトを作成した。</span> Based on the source code for the last time, I have created a software for the Arduino.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">[ <a href="http://www.kako.com/neta/2008-009/wii_remote_ir_sensor_sample.zip">wii_remote_ir_sensor_sample.zip - source code (download)</a> ]</span> [ <a href="http://www.kako.com/neta/2008-009/wii_remote_ir_sensor_sample.zip">Wii_remote_ir_sensor_sample.Zip - source code (download)</a> ]</span> <br><br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(後日加筆 2008-09-21)</span> (2008-09-21 revision at a later date)</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">WinAVRを使ってソフトを書き直してみた。</span> I tried to rewrite the software using WinAVR.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">[ <a href="http://www.kako.com/neta/2008-009/wii_remote_ir_sensor_sample2.zip">wii_remote_ir_sensor_sample2.zip - source code (download)</a> ]</span> [ <a href="http://www.kako.com/neta/2008-009/wii_remote_ir_sensor_sample2.zip">Wii_remote_ir_sensor_sample2.Zip - source code (download)</a> ]</span> <br><br><br></p><hr><p> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Wiiリモコンの赤外線センサの使い方</span> Using the Wii remote infrared sensor</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">簡単にセンサの使い方の解説を書いてみる。</span> You want to write a simple explanation of how to use the sensor.</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">I2Cバス規格のプロトコルでは、デバイスとの通信には、デバイスのアドレス番号を最初に送信する必要がある。</span> The communication with the device, the protocol I2C bus standard, it must be sent to the first address of the device number.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Wiiリモコンに使われている赤外線センサのアドレスは、0x58である。</span> Address of the infrared sensor is used to Wii Remote is 0x58.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">ソースコードには0xB0と書いてあったりするが、これは上位7ビットがアドレスで、下位1ビットがR/W指定ビットとなるように、シフトするからである。</span>
 Although the source code is written, or 0xB0, 7 high-order bits in the 
address, so that the lower 1 bit specified bit R / W, this is because 
the shift.</span> <br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">センサの初期化は、 <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2006-019/2006-019.html&amp;usg=ALkJrhjGnnWbmNQIO_vpzIhTZ63LPBVE2A">Wiiリモコン内部のセンサにBluetooth経由でアクセスする場合</a>より簡単である。</span> Initialization of the sensor, <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2006-019/2006-019.html&amp;usg=ALkJrhjGnnWbmNQIO_vpzIhTZ63LPBVE2A">if you want to access via Bluetooth to the sensor inside the Wii remote</a> is easier.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">なぜなら、チップイネーブル制御や、クロック発振回路のON/OFF制御をしないからである。</span> Because, because we do not control and chip enable ON / OFF control of the clock oscillator.</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">初期化のためのコマンドの送信は、次の形式で行う。</span> Transmission of commands for initialization is performed in the following form.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">[STARTコンディション] [0xB0] [制御レジスタアドレス] [書き込みデータ] [STOPコンディション]</span> [START condition] [0xB0] [register address control] [Write data] [STOP condition]</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">制御レジスタのアドレスは、8bitで指定する。</span> Address of the control register is specified by 8bit.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">どのアドレスがどういう機能なのかは、まだ詳しく分かっていない。</span> Which addresses whether a function is what, I still do not know in detail.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">とりあえず、ある決まった値と手順で書き込むとセンサを動作させることができる。</span> For now, I can operate the sensor with a fixed value and procedures written there.</span> <br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">初
期化コマンド手順 (1) 制御レジスタアドレス0x30に対して、データ0x01を書き込む (2) 
制御レジスタアドレス0x30に対して、データ0x08を書き込む (3) 制御レジスタアドレス0x06に対して、データ0x90を書き込む (4) 
制御レジスタアドレス0x08に対して、データ0xC0を書き込む (5) 制御レジスタアドレス0x1Aに対して、データ0x40を書き込む (6) 
制御レジスタアドレス0x33に対して、データ0x33を書き込む これは、以下で説明する感度設定の手順を簡略にしたようなものらしい。</span>
 Initialization command procedure for the control register address 0x30 
(1), data is written to the register address 0x01 0x30 (2) The control, 
data is written to the register address 0x08 0x06 (3) Control, write 
data 0x90 ( for the control register address 0x08 4), data is written to
 the register address 0x1A 0xC0 control (5), data is written to the 
register address 0x40 0x33 (6) control, which to write data 0x33 is 
described in the following It seems like it has been to simplify the 
procedure for setting the sensitivity.</span> <br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">赤
外線センサの感度の設定方法について 
上記で簡易的に設定されているようだが、ちゃんと設定したい場合には、4つのパラメータp0,p1,p2,p3を指定して、次の手順で書き込む (1) 
制御レジスタアドレス0x30に対して、データ0x01を書き込む (2) 
制御レジスタアドレス0x00に対して、データ0x02,0x00,0x00,0x71,0x01,0x00,p0を書き込む (7バイトの書き込み)</span>
 It seems to have been set up in a simple above for how to set the 
sensitivity of the infrared sensor, specify, p1, p2, p3 parameter p0 
four, write the following procedure when you want to set properly, (1) 
for the control register address 0x30, 0x01 to write data to the 
register address 0x00 (2) Control, (writing 7 bytes) to write 0x02, 
0x00, 0x00, 0x71, 0x01, 0x00, p0 data</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(3) 制御レジスタアドレス0x07に対して、データ0x00,p1を書き込む (2バイトの書き込み)</span> For the control register address 0x07 (3), (write 2 bytes) to write 0x00, p1 data</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(4) 制御レジスタアドレス0x1Aに対して、データp2,p3を書き込む (2バイトの書き込み)</span> For the control register address 0x1A (4), (write 2 bytes) to write, p3 p2 data</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(5) 制御レジスタアドレス0x33に対して、データ0x03を書き込む (6) 制御レジスタアドレス0x30に対して、データ0x08を書き込む 複数バイトの書き込み時はレジスタアドレスが自動インクリメントされるので連続で書き込み可能である。</span>
 For the control register address 0x33 (5), which makes it possible to 
write continuously write data to the register address 0x03 0x30 (6) 
control, when writing multi-byte write data to the register address 0x08
 will be auto-increment .</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">感度のパラメータは、</span> Sensitivity parameters,</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">感度1の場合、p0=0x72 , p1=0x20 , p2=0x1F,p3=0x03</span> Sensitivity of 1, p0 = 0x72, p1 = 0x20, p2 = 0x1F, p3 = 0x03</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">感度2の場合、p0=0xC8 , p1=0x36 , p2=0x35,p3=0x03</span> If sensitivity 2, p0 = 0xC8, p1 = 0x36, p2 = 0x35, p3 = 0x03</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">感度3の場合、p0=0xAA , p1=0x64 , p2=0x63,p3=0x03</span> 3 For sensitivity, p0 = 0xAA, p1 = 0x64, p2 = 0x63, p3 = 0x03</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">感度4の場合、p0=0x96 , p1=0xB4 , p2=0xB3,p3=0x04</span> For a four-sensitivity, p0 = 0x96, p1 = 0xB4, p2 = 0xB3, p3 = 0x04</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">感度5の場合、p0=0x96 , p1=0xFE , p2=0xFE,p3=0x05</span> If the sensitivity of 5, p0 = 0x96, p1 = 0xFE, p2 = 0xFE, p3 = 0x05</span> <br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">初期化後(感度設定後)は、センサで検知した光点の座標を読み出すことができる。</span>
 (After the sensitivity setting), it is possible to read the coordinates
 of the light spot detected by the sensor after initialization.</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">センサ出力の読み出し方法  [STARTコンディション] [0xB0] [0x36] [STOPコンティション]</span> How to read the sensor output [START condition] [0xB0] [0x36] [STOP Conti application]</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">というコマンドを送信後、次のとおり読み出す。</span> After sending the command, reads as follows.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">[STARTコンディション] [0xB1] [データの読み出し] x 16bytes</span> X 16bytes [reading of data] [START condition] [0xB1]</span> <br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">読み出したデータの形式  3バイトずつ下記の順に格納されている。</span> It is stored in the following order by 3 bytes of read data format.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">[先頭1byte] [座標1... 3bytes] [座標2 ... 3bytes] [座標3 ... 3bytes] [座標4 ... 3bytes]</span> [1byte top] [1 ... 3bytes coordinate] [2 ... 3bytes coordinate] [3 ... 3bytes coordinate] [4 ... 3bytes coordinate]</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">この3バイトを、XX,YY,SSとすると、</span> The XX, YY, and SS, the three bytes,</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">X座標 = (SS &amp; 0x30) &lt;&lt;4 + XX</span> = (SS &amp; 0x30) &lt;&lt; 4 + XX X coordinate</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Y座標 = (SS &amp; 0xC0) &lt;&lt;2 + YY</span> = (SS &amp; 0xC0) &lt;&lt; 2 + YY Y coordinate</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">という計算をすることで、座標の値を得ることが出来る。</span> By calculation that I can obtain a coordinate value.</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">座標値が無効な場合に0x3FFが返ってくる。</span> Coordinate value is 0x3FF is returned if invalid.</span> <br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">制御レジスタの役割  アドレス 0x00～0x08 --- 検出のためのパラメータ設定  アドレス 0x1A～0x1B --- 検出のためのパラメータ設定(2)</span>
 Parameter settings for the detection of address 0x1A ~ 0x1B --- 
parameter settings for the detection 0x00 ~ 0x08 --- address the role of
 the control register (2)</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">アドレス 0x30 --- センサの動作モード(?) 最初に0x01を書き込んで, 次に0x08を書き込む  アドレス 0x33 --- センサの動作モード(?) 0x03 ( あるいは0x33 ? ) を書き込む</span>
 By writing 0x01 to the first (?) Mode of operation of the sensor 
address 0x30 ---, writes (0x33?, Or) (?) 0x03 0x33 --- sensor operation 
mode of address to write the next 0x08</span> <br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">検出のためのパラメータ設定  不明  カメラで撮影した画像を画像処理して光点を検出するためのセンサ内部のソフトウェアのパラメータ設定  2値化の敷居値とか光点の大きさの敷居値とかのパラメータがあるのではないかと推測される。</span>
 Parameters such as threshold values ​​of the magnitude of the spot or 
threshold binary parameter setting software inside the sensor for 
detecting the light spot and the image processing the images captured by
 the camera unknown parameter settings for the detection it supposes 
that it is in there.</span> <br><br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(後日加筆 2008-10-06)</span> (2008-10-06 revision at a later date)</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">いくつかのパラメータは判明してきているらしい。</span> Some of the parameters seems to have been found.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://wiki.wiimoteproject.com/IR_Sensor&amp;usg=ALkJrhjNfQWcEjEY_guch4bXNbqo7eqABA">http://wiki.wiimoteproject.com/IR_Sensor</a>というページに色々と情報が出ている。</span> <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://wiki.wiimoteproject.com/IR_Sensor&amp;usg=ALkJrhjNfQWcEjEY_guch4bXNbqo7eqABA">http://wiki.wiimoteproject.com/IR_Sensor</a> and information we have come to a page called color.</span> <br><br><br><br></p><hr><p> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">赤外線センサを使ってWiiリモコンをマウスとして使うのを試してみる</span> Try to use the Wii remote as a mouse with an infrared sensor</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left"><a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2006-019/2006-019.html&amp;usg=ALkJrhjGnnWbmNQIO_vpzIhTZ63LPBVE2A">以前に</a> 、Wiiリモコンを机の上に置いた状態で、リモコン内蔵の赤外線センサを使って左右と前後の移動量を検出できるかどうか試した。</span> <a href="http://translate.googleusercontent.com/translate_c?depth=1&amp;hl=en&amp;ie=UTF8&amp;rurl=translate.google.com&amp;sl=ja&amp;tl=en&amp;u=http://www.kako.com/neta/2006-019/2006-019.html&amp;usg=ALkJrhjGnnWbmNQIO_vpzIhTZ63LPBVE2A">Previously</a>
 , in a state where the Wii Remote placed on the desk, he tried to 
detect whether the amount of movement of the left and right and back and
 forth with a built-in infrared remote control sensor.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">純正のセンサーバーのような左右に並んだ2点の光源でも前後(奥行き)方向の移動量を検出するのは可能なのだが、マウスに使えるほどの精度は出なかった。</span>
 Although it possible to detect the amount of movement of the direction 
(depth) of the light source back and forth in two side-by-side, such as 
that of a genuine sensor server, the accuracy of the mice did not appear
 as available.</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">光学系の部品を外付けすることで、前後方向の移動量を精度良く検出する方法を考えてみた。</span>
 By external components of the optical system, I tried to think of a way
 to accurately detect the amount of movement in the longitudinal 
direction.</span> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(2008-08-05)</span> (2008-08-05)</span> <br><br><img src="translate_p_data/photo4.jpg" alt="" align="BOTTOM" height="480" width="640"><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・Wiiリモコンを机の上で滑らせやすいようにマウスパッドを敷く。</span> · Place a mouse pad to be easy to let slip the Wii remote on your desk.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・マウスパッドの左側と上側に赤外発光ダイオードを固定する。</span> · Fix the infrared light emitting diode and the upper left side of the mouse pad.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・左側の発光ダイオードよりも、上側の発光ダイオードの高さを高くしておく。</span> Than the left-emitting diodes, should increase the height of the upper light-emitting diodes.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・Wiiリモコンの先端の赤外線センサーの先にハーフミラーを45度の傾きで取り付ける。</span> • Install the slope of the half mirror 45 degrees ahead of the infrared sensor at the tip of the Wii remote.</span> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">Wiiリモコンと一緒になって動くように取り付けること。</span> Be mounted to move together with the Wii Remote.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・ハーフミラーの効果で、赤外線センサーは上側と左側の発光ダイオードを同時に検出できる。</span> Effect of the half-mirror, the sensor can detect the infrared light-emitting diodes at the same time the upper and left.</span> <br><br><br><img src="translate_p_data/photo5.jpg" alt="" align="BOTTOM" height="480" width="640"><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・リモコンを左右に動かすと、上側の発光ダイオードの光点が画面上の左右の動きとして検出される。</span>
 Moving to the left or right, remote control, the upper light spot of 
the light-emitting diode is detected as a movement of the left and right
 on the screen.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・リモコンを前後に動かすと、左側の発光ダイオードの光点が画面上の"左右"の動きとして検出される。</span>
 • If the remote control to move back and forth, light spot on the left 
side of the light emitting diode is detected as the movement of the 
"left and right" on the screen.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・つまり、画面上に2点の光点が検出され、それぞれが左右に動く。</span> -In other words, the focal point of the two points is detected on the screen moves to the left and right respectively.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・どちらの光点が上側か左側かを判別するために、上側の発光ダイオードの高さを高くしてあり、画面上の上方向の光点が上側の発光ダイオードである。</span>
 • To spot which it is determined whether the upper or left side, has 
been increasing the height of the upper light-emitting diodes, 
light-emitting diode is a light spot in the direction of the upper on 
the top of the screen.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・画面上の光点の移動量をマウスのX軸の動き/Y軸の動きに変換するソフト処理を入れることで、Wiiリモコンのセンサをマウスとして使うことが可能。</span>
 · To put the processing software that converts the movement of the axis
 / Y-axis movement of the mouse X the amount of movement of the light 
spot on the screen, use the Wii Remote as a mouse sensor is possible.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">・ただし、ソフト処理が必要なので、いまのところPC上でWiiリモコン制御ソフトを作成した場合しか使うことができない。</span>
 • However, it requires processing software, I can not only be used if 
you create a Wii remote control software on the PC at the moment.</span> <br><br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">ハーフミラーを使う方法は昨年(2007年)の始め頃に思いついていたのだが、ハーフミラーを入手して実際に作るのに時間が掛かってしまった。</span>
 But had come up around the beginning of last year (2007) how to use a 
half mirror, and it takes time to actually get to make a half mirror.</span> <br><br><br><br><br></p><hr><p> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">マウスでWiiのゲームをするには</span> In a game of Wii in mice</span> <br><br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">赤外線センサの解析で、リモコンを向けている座標に対応して、どのような信号がセンサから出てくるかが分かっている。</span>
 Analysis of the infrared sensor has been found to correspond to the 
coordinates that are directed to the remote control, or what comes out 
the signal from the sensor.</span> <br> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">同じ信号を出す回路を自作することで、赤外線センサ以外のポインティングデバイスからの出力をWiiリモコンの基板に接続して、例えばマウスでWiiを操作できるかもしれない。</span>
 You can make your own to give the same signal circuit, connected to the
 substrate of the Wii remote control output from the pointing device 
other than the infrared sensor, you may be able to operate the Wii with 
the mouse, for example.</span> <span onmouseover="_tipon(this)" onmouseout="_tipoff()"><span class="google-src-text" style="direction: ltr; text-align: left">(2008-08-05)</span> (2008-08-05)</span> <br></p><script type="text/javascript"><!--
google_ad_client = "pub-0609829366476323";
/* kako.com wii mod page top 728x90 */
google_ad_slot = "5826197661";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script><script type="text/javascript" src="translate_p_data/show_ads.js">
</script><ins style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px"><ins id="aswift_1_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px"><iframe allowtransparency="true" hspace="0" marginwidth="0" marginheight="0" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){w.location.replace(h)}}" vspace="0" id="aswift_1" name="aswift_1" style="left: 0pt; position: absolute; top: 0pt;" frameborder="0" height="90" scrolling="no" width="728"></iframe></ins></ins><script>_addload(function(){_setupIW();_csi('ja','en','http://www.kako.com/neta/2008-009/2008-009.html');});</script><span><div class="gmnoprint" style="display: none; z-index: 2147483647;"><img src="translate_p_data/iws_n.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 8px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iws_n.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 8px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iws_w.png" style="position: absolute; left: 0px; top: 0px; width: 8px; height: 598px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iws_e.png" style="position: absolute; left: 0px; top: 0px; width: 8px; height: 598px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iws_s.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 8px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iws_s.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 8px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iws_c.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 598px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><div style="overflow: hidden;" class="SPRITE_iws_nw"></div><div style="overflow: hidden;" class="SPRITE_iws_ne"></div><div style="overflow: hidden;" class="SPRITE_iws_sw"></div><div style="overflow: hidden;" class="SPRITE_iws_se"></div><div style="overflow: hidden;" class="SPRITE_iws_tap"></div><div style="overflow: hidden;" class="SPRITE_iws_tap_l"></div><div style="overflow: hidden;" class="SPRITE_iws_tap_u"></div><div style="overflow: hidden;" class="SPRITE_iws_tap_ul"></div><div style="overflow: hidden;" class="SPRITE_iws_tap_rd"></div><div style="overflow: hidden;" class="SPRITE_iws_tap_ld"></div><div style="overflow: hidden; display: none;" class="SPRITE_iws_tab_dl"></div><div style="overflow: hidden; display: none;" class="SPRITE_iws_tab_dr"></div><div style="overflow: hidden; display: none;" class="SPRITE_iws_tab_l"></div><div style="overflow: hidden; display: none;" class="SPRITE_iws_tab_r"></div></div></span><div id="google-infowindow"><div class="gmnoprint" style="display: none; z-index: 2147483647;"><img src="translate_p_data/iw_n.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 6px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iw_n.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 6px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iw_w.png" style="position: absolute; left: 0px; top: 0px; width: 6px; height: 598px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iw_e.png" style="position: absolute; left: 0px; top: 0px; width: 6px; height: 598px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iw_s0.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 6px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iw_s0.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 6px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><img src="translate_p_data/iw_c.png" style="position: absolute; left: 0px; top: 0px; width: 628px; height: 598px; -moz-user-select: none; border: 0px none; padding: 0px; margin: 0px;"><div style="overflow: hidden;" class="SPRITE_iw_nw"></div><div style="overflow: hidden;" class="SPRITE_iw_ne"></div><div style="overflow: hidden;" class="SPRITE_iw_xtap"></div><div style="overflow: hidden;" class="SPRITE_iw_xtap_l"></div><div style="overflow: hidden;" class="SPRITE_iw_xtap_u"></div><div style="overflow: hidden;" class="SPRITE_iw_xtap_ul"></div><div style="overflow: hidden;" class="SPRITE_iw_xtap_rd"></div><div style="overflow: hidden;" class="SPRITE_iw_xtap_ld"></div><div style="overflow: hidden;" class="SPRITE_iw_sw0"></div><div style="overflow: hidden;" class="SPRITE_iw_se0"></div><div style="overflow: hidden; z-index: 10000; cursor: pointer; visibility: visible;" class="SPRITE_close"></div><div style="overflow: hidden; z-index: 10000; visibility: hidden; cursor: pointer; display: none;" class="SPRITE_maximize"></div><div style="overflow: hidden; z-index: 10001; visibility: hidden; cursor: pointer; display: none;" class="SPRITE_restore"></div></div></div><div style="display: none;"><iframe id="google-feedback-frame" name="google-feedback-frame"></iframe></div></body></html>