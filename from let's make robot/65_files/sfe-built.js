/**
 * jQuery Cookie plugin
 *
 * Copyright (c) 2010 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */

/**
* hoverIntent is similar to jQuery's built-in "hover" function except that
* instead of firing the onMouseOver event immediately, hoverIntent checks
* to see if the user's mouse has slowed down (beneath the sensitivity
* threshold) before firing the onMouseOver event.
* 
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* hoverIntent is currently available for use in all personal or commercial 
* projects under both MIT and GPL licenses. This means that you can choose 
* the license that best suits your project, and use it accordingly.
* 
* // basic usage (just like .hover) receives onMouseOver and onMouseOut functions
* $("ul li").hoverIntent( showNav , hideNav );
* 
* // advanced usage receives configuration object only
* $("ul li").hoverIntent({
*	sensitivity: 7, // number = sensitivity threshold (must be 1 or higher)
*	interval: 100,   // number = milliseconds of polling interval
*	over: showNav,  // function = onMouseOver callback (required)
*	timeout: 0,   // number = milliseconds delay before onMouseOut function call
*	out: hideNav    // function = onMouseOut callback (required)
* });
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/

/**
 * jQuery.ScrollTo - Easy element scrolling using jQuery.
 * Copyright (c) 2007-2009 Ariel Flesler - aflesler(at)gmail(dot)com | http://flesler.blogspot.com
 * Dual licensed under MIT and GPL.
 * Date: 5/25/2009
 * @author Ariel Flesler
 * @version 1.4.2
 *
 * http://flesler.blogspot.com/2007/10/jqueryscrollto.html
 */

/*
 * FancyBox - jQuery Plugin
 * Simple and fancy lightbox alternative
 *
 * Examples and documentation at: http://fancybox.net
 *
 * Copyright (c) 2008 - 2010 Janis Skarnelis
 * That said, it is hardly a one-person project. Many people have submitted bugs, code, and offered their advice freely. Their support is greatly appreciated.
 *
 * Version: 1.3.4 (11/11/2010)
 * Requires: jQuery v1.3+
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */

/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2009 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.5.0
 *
 */

(function(e){var t={init:function(t){e(document).ready(function(){e.sfe("domready")});if(window.location.hash){var n=window.location.hash.substring(1);n.match(/comment\-/)&&e("#"+n).effect("highlight",{},2e3)}e("html").click(function(t){!e(t.target).hasClass("button")&&!e(t.target).hasClass("dialog-button")&&!e(t.target).is(".dialog")&&!e(t.target).parents().is(".dialog")&&e(".dialog:visible").each(function(){e(this).slideUp(100)}),!e(t.target).parents().is(".header-sub-menu")&&!e(t.target).parents().is(".header-menu-item")&&e(".header-sub-menu").each(function(){e(this).parent().removeClass("active"),e(this).hide()})})},domready:function(){e("#airlock").currency("render"),e.sfe("olarkinit"),e("#airlock").product(),e("#category_menu_list").find(".arrow").each(function(t,n){if(""==e(this).html())return;e(n).click(function(){e(this).sfeutil("toggle_menu")})}),e("#messages").length&&e("#messages").slideDown(),e("#global-search").autocomplete({source:SFECONFIG.https_server+"/search/suggest.json",autoFocus:!1,minLength:2,position:{my:"right top",at:"right bottom"},select:function(e,t){_gaq.push(["_trackEvent","Search","add_from_autocomplete",t.item.url]),window.location.href=SFECONFIG.http_server+t.item.url},open:function(t,n){e("#airlock").currency("render")}}).data("autocomplete")._renderItem=function(t,n){return n.price?e("<li></li>").addClass("autocomplete-product").data("item.autocomplete",n).append('<a class="clearfix" href="#"><img src="'+n.img+'" width=38 height=38><b>'+n.label+"</b><br><span class=search-sku>"+n.sku+" - <span class=price>"+n.price+"</span></span></a>").appendTo(t):e("<li></li>").addClass("autocomplete-category").data("item.autocomplete",n).append('<a class="clearfix" href="#"><b>'+n.label+"</b>").appendTo(t)},e(".toggle-login").click(function(t){return t.preventDefault(),e.sfe("toggle_login"),!1}),e("#airlock").sfeutil("render_collapsible"),e("#airlock").sfeutil("render_share"),e.sfe("keyboard_handler"),e("#airlock").trigger("loaded")},olarkinit:function(){olark("api.chat.onOperatorsAway",function(){chat=e("#airlock").data("chat")||{},chat.available=!1,e("#airlock").data("chat",chat),e("#airlock").trigger("chat.unavailable")}),olark("api.chat.onOperatorsAvailable",function(){chat=e("#airlock").data("chat")||{},chat.available=!0,e("#airlock").data("chat",chat),e("#airlock").trigger("chat.available")})},toggle_login:function(){e("#login-form").toggle(),e("#login-form").parent().toggleClass("active"),e("#user_login").focus()},keyboard_handler:function(){e(document).keyup(function(t){t.keyCode==27&&(e(".modal").hide(),e(".dialog").hide())})}};e.extend({sfe:function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.sfe")}})})(jQuery),define("main",function(){}),function(e){var t={init:function(e){},toggle_menu:function(){var t=e(this).siblings().filter("ul");e(t).is(":visible")?(e.cookie(this.parent().attr("id")+"_collapsed",!0),this.html("&#9658; ")):(e.cookie(this.parent().attr("id")+"_collapsed",!1),this.html("&#9660; ")),t.toggle()},render_collapsible:function(){e("#airlock").find("h1.collapsible, h2.collapsible").each(function(t,n){var r;r=e.cookie(n.id+"_collapsed"),r===null&&(r="true"),r=="true"&&e(n).hasClass("closed")&&(r=!1),e(n).find("span.arrow")||(n=new Element("span"),e(n).insert({top:n}),n.addClassName("arrow")),"true"==r?e(n).find("span.arrow").html("&#9660; ").addClass("visible"):(e(n).find("span.arrow").html("&#9658; ").removeClass("visible"),e(n).next().toggle()),e(n).click(function(t){e(t.target).sfeutil("toggle_collapsible")})})},render_share:function(){e(".share-link").length&&e(".share-link").each(function(t,n){e(n).find("a").first().click(function(t){t.preventDefault(),_gaq.push(["_trackEvent","Share","toggled"]),e(this).next(".share-link-inner").slideToggle(100)})})},toggle_collapsible:function(){var t=this.closest(".collapsible").next();t.is(":visible")?(this.hasClass("arrow")?this.html("&#9658; "):this.find(".arrow").html("&#9658; "),visible=e.cookie(this.closest(".collapsible").attr("id")+"_collapsed",!1)):(this.hasClass("arrow")?this.html("&#9660; "):this.find(".arrow").html("&#9660; "),visible=e.cookie(this.closest(".collapsible").attr("id")+"_collapsed",!0)),t.toggle()},list_view:function(t){current=e.cookie("listy");if(null!=current&&t==current)return!1;e.cookie("listy",t),location.reload(!0)},mind_feedback:function(){e.post("/feedback/mind.json",e(this).closest("form").serialize(),function(t){if(t.status==1)return e("#feedback").effect("highlight",{},1500),e("#feedback").html("Thanks for your feedback!"),!0;errors=t.errors,e("form#feedback div.error").each(function(){e(this).hide()}),undefined!=errors.feedback?(e("#error_feedback").html(errors.feedback),e("#error_feedback").show()):undefined!=errors.feedback_text?(e("#error_feedback_text").html(errors.feedback_text),e("#error_feedback_text").show(),e("#feedback_textarea").focus(),e("#feedback_textarea").effect("highlight")):undefined!=errors.feedback_email&&(e("#error_feedback_email").html(errors.feedback_email),e("#error_feedback_email").show(),e("#feedback_email").focus(),e("#feedback_email").effect("highlight"))}).error(function(){alert("there was an unknown error submitting your feedback, sorry for the inconvenience :(")})},track_link:function(e,t,n,r,i){undefined!=i&&!isNaN(parseInt(i*1))?_gaq.push(["_trackEvent",t,n,r,i]):undefined!=r?_gaq.push(["_trackEvent",t,n,r]):undefined!=n&&_gaq.push(["_trackEvent",t,n]),setTimeout('document.location = "'+e.href+'"',100)},validate_alias:function(t,n){var r=e("#"+n);e.post("/account/alias_free.json",{q:t},function(t){t.result?(e(r).addClass("success"),e(r).removeClass("fail")):(e(r).addClass("fail"),e(r).removeClass("success"))})},populate_zones:function(t){var n=e(this),r=n.attr("id");e.get("/zones.json",{country:t},function(t){if(t.length>1){var i=n.val();n.replaceWith(e("<select />",{name:"zone"}).attr("id",r));var s=e("#"+r);e.each(t,function(){var t=e("<option />",{value:this.name});i&&(i==this.name||i==this.code)&&t.attr("selected","selected"),t.html(this.name),e(s).append(t)})}else n.replaceWith(e("<input />",{type:"text",name:"zone"}).attr("id",r))})},hide_message:function(){e.cookie(this.attr("id")+"_hidden",!0,{expires:5}),this.fadeOut()}};e.fn.sfeutil=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.sfeutil")}}(jQuery),define("sfeutil",function(){}),function(e){var t={init:function(t){e(this).data("banner_id",t.id);var n=e("#banner");if(!n)return!1;e("#banner").bind("mouseenter mouseleave",function(){e(this).banner("toggle_nav")}),e("#banner-goprev").bind("click",function(){e(this).banner("prev")}),e("#banner-gonext").bind("click",function(){e(this).banner("next")})},toggle_nav:function(){e("#airlock").data("banners")||e(this).banner("populate_list"),e("#banner-nav").fadeToggle(500)},prev:function(){var t=e("#airlock").data("banners"),n=e("#airlock").data("banner_id"),r;e.each(t,function(e,t){t.id==n&&(r=e-1)}),r<0&&(r=t.length-1),e(this).banner("update_to",t[r])},next:function(){var t=e("#airlock").data("banners"),n=e("#airlock").data("banner_id"),r;e.each(t,function(e,t){t.id==n&&(r=e+1)}),r==t.length&&(r=0),e(this).banner("update_to",t[r])},populate_list:function(){e.get("/banners.json",function(t){e("#airlock").data("banners",t)})},update_to:function(t){e("#airlock").data("banner_id",t.id),e("#banner-img").attr("src",SFECONFIG.http_static+"/images/banners/"+t.path),e("#banner-link").attr("href",t.href)}};e.fn.banner=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.banner")}}(jQuery),define("banner",function(){}),jQuery.cookie=function(e,t,n){if(arguments.length>1&&String(t)!=="[object Object]"){n=jQuery.extend({},n);if(t===null||t===undefined)n.expires=-1;if(typeof n.expires=="number"){var r=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+r)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=t||{};var s,o=n.raw?function(e){return e}:decodeURIComponent;return(s=(new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)")).exec(document.cookie))?o(s[1]):null},define("cookie",function(){}),function(e){var t={init:function(e){},render:function(){var t=SFECONFIG.preferred_currency,n=SFECONFIG.currencies[t],r=n.symbol_left!=null?n.symbol_left:"",i=n.symbol_right!=null?n.symbol_right:"",s=function(e){e+="",x=e.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";var t=/(\d+)(\d{3})/;while(t.test(x1))x1=x1.replace(t,"$1,$2");return x1+x2},o=function(e,t){return value=e*t.value,output=r+value.toFixed(t.decimal_places)+i,value<0&&(output="-"+r+(value*-1).toFixed(t.decimal_places)+i),e>999.99?s(output):output};e("span.price").each(function(t,r){e(r).hasClass("calculated")||(e(r).html(o(parseFloat(r.innerHTML.replace(/[^0-9.]+/g,"")),n)),e(r).addClass("calculated"))})},change:function(t){window.SFECONFIG.auth||(currency=t,e.cookie("currency",t,{path:"/"})),new e.post("/currency/change_currency.json",{currency_code:t},function(e){if(e.status!=1)return alert("There was an error changing "+t+" to your default currency: "+e),!1;location.reload()})},add:function(t){if(!window.SFECONFIG.auth)return alert("You must be logged in to add a new currency."),!1;new e.post("/currency/add_currency.json",{currency_code:t},function(e){if(e.status!=1)return alert("There was an error adding "+t+" to your preferred currencies: "+e),!1;location.reload()})},remove:function(t){if(!window.SFECONFIG.auth)return alert("You must be logged in to remove a currency."),!1;new e.post("/currency/remove_currency.json",{currency_code:t},function(e){if(e.status!=1)return alert("There was an error removing"+t+" from your preferred currencies: "+e),!1;location.reload()})}};e.fn.currency=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.currency")}}(jQuery),define("currency",function(){}),function(e){var t={init:function(e){},post:function(t){t.preventDefault();if(e(this).find("textarea").val().replace(" ","").replace(/(<([^>]+)>)/ig,"")==="")return alert("you must enter a comment!"),!1;e(this).find('input[type="submit"]').attr("disabled","disabled"),e.post(e(this).attr("action")+".json",e(this).serialize(),function(t){if(!t.status)return alert(t.message),!1;e("#comments_container").html(t.html),e("#comment-"+t.comment_id).effect("highlight"),e("#airlock").trigger("comments_updated")}).error(function(){alert("we were unable to save your comment, please try again in a few minutes")})},hide:function(t){e.post("/comment/"+t+"/hide.json",function(n){if(!n.status){alert(n.message);return}e("#comment-"+t).addClass("moderated"),e("#comment-show-"+t).show(),e("#comment-hide-"+t).hide()})},show:function(t){e.post("/comment/"+t+"/show.json",function(n){if(!n.status){alert(n.message);return}e("#comment-"+t).removeClass("moderated"),e("#comment-show-"+t).hide(),e("#comment-hide-"+t).show()})},toggle_help:function(t){if(-1==t)var n=e("#formatting_help"),r=e("#formatting_help_link");else var n=e("#comment-"+t).find(".formatting-help"),r=e("#comment-"+t).find(".formatting-help-link");n.is(":visible")?(r.html("formatting help"),n.hide()):(r.html("hide help"),n.show())},rate:function(t){e.post("/comment/"+t+"/rate.json",function(n){if(!n.status){alert(n.message);return}e("#comment-rated-"+t).toggle(),e("#comment-unrated-"+t).toggle(),e("#comment-rating-"+t).html(n.rating)})},toggle_reply_form:function(t){var n=e("#comment-reply-form-"+t),r=e("#comment-"+t);if(n.size()>0){e("#comment-reply-form-"+t).toggle(),n.is(":visible")&&n.focus();return}n=e("#comment-reply-form").clone(),n=n.html().replace(/COMMENT_ID/g,t),e(r).find(".comment-text").first().append(n),n=e("#comment-reply-form-"+t),n.bind("submit",function(t){e(this).comment("post",t)}),n.find("textarea").focus()},edit:function(t){e.get("/comment/"+t+".json",function(n){var r=e("#comment-edit-form").clone(),i=e("#comment-"+t);r.find("textarea").text(n.text),r=r.html().replace(/COMMENT_ID/g,t),i.find(".comment-text").eq(0).html(r);var s=i.find('a[name="cancel-button"]').eq(0);s.click(function(){return i.find(".comment-text").eq(0).html(n.html),!1}),r=e("#comment-edit-form-"+t),r.bind("submit",function(n){return e.post("/comment/"+t+"/update.json",r.serialize(),function(t){e("#comments_container").html(t.html),e("#comment-"+t.comment_id).effect("highlight")}).error(function(){alert("we were unable to update your comment, please try again in a few minutes")}),!1})})},report:function(t){return confirm("You are about to report a comment to the SparkFun moderators.\n\nContinue?")?(e.post("/comment/"+t+"/report.json",function(e){alert("Thanks, this comment has been reported to the SparkFun moderators.")}),!1):!1}};e.fn.comment=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.tooltip")}}(jQuery),define("comment",function(){}),function(e){var t={init:function(e){},add:function(t,n){var r=this;e.post("/cart/add.json",this.serialize(),function(t){if(!t.success)alert(t.message);else{var n=e(r).find("[name=id]").val();e("#added_qty_"+n).html(parseInt(t.qty_added)),e("#items_in_cart").html(parseInt(e("#items_in_cart").html())+parseInt(t.qty_added)),e("#added_to_cart_"+n).show().effect("highlight",{},1500),e("#cart-menu-item").effect("highlight",{},1500)}})},add_tile:function(t,n){var r=this;e.post("/cart/add.json",this.serialize(),function(t){if(!t.success)alert(t.message);else{var n=e(r).find("[name=id]").val();e("#added_qty_"+n).html(parseInt(t.qty_added)),e("#items_in_cart").html(parseInt(e("#items_in_cart").html())+parseInt(t.qty_added)),e("#added_to_cart_"+n).slideDown(300).effect("highlight",{},1500),e("#cart-menu-item").effect("highlight",{},1500)}})},remove:function(t){e.post("/cart/remove.json",{id:t},function(n){success=n.success,success||null==success?e("#cart_row_"+t).slideUp(500,function(){e(this).remove(),e(this).cart("recalculate_totals")}):window.top.location.reload()})},remove_all:function(){e.post("/cart/remove_all.json",{},function(t){t.success||window.top.location.reload(),e(".cart-row").each(function(t){e(this).slideUp(2e3)}),e(".cart-row").promise().done(function(){this.remove(),e("#cart").cart("recalculate_totals")})})},recalculate_totals:function(){var t=0,n=0;e(".cart-row").each(function(r,i){n+=parseFloat(e(i).find(".price").attr("data-price")),t+=parseInt(e(i).find(".add-qty").val())}),e("#cart_total").find(".price").removeClass("calculated").html(n.toFixed(2)),e("#items_in_cart").html(t),e("#airlock").currency("render"),e(".cart-row")[0]||(e("#remove_all").fadeOut(),e("#checkout").fadeOut(),e("#internal_checkout").fadeOut(),e("#load_shipping_quotes").fadeOut(),e("#cart_footer .note").fadeOut(),e("#calculate_shipping").fadeOut())},confirm_backorder:function(t,n){try{e("#backorder-dialog")[0]&&e("#backorder-dialog").slideUp(function(){e("backorder-dialog").remove()})}catch(r){}var i=e("<div />",{id:"backorder-dialog",style:"display: none; width: 300px"}).addClass("dialog"),s=e("<ul />"),o=e("<a />",{id:"backorder-dialog-cancel",href:"#"}).addClass("cancel button").html("Cancel");o.click(function(){e("#backorder-dialog").slideUp(function(){e("#backorder-dialog").remove()})}),i.css("top",e(this).offset().top+(e(this).height()+10)+"px"),i.css("left",e(this).offset().left-(parseInt(i.css("width"))-e(this).width()+10)+"px"),i.html('<h3>Backorder Item</h3><p>This item is not in stock. If you would like to order the item now, add it to your cart and check out when you\'re ready. We will charge you and ship your order as soon as it becomes available. This will guarantee that you get placed into the order queue and stock will be set aside for your order.</p><p>Backordered items may require additional shipping charges. Please see our <a href="http://www.sparkfun.com/commerce/static.php?name=customer_service#BackOrders" target="_blank">Backorder Policy</a> for more information. Most items ship within 2-3 weeks. Some items have extended lead times.</small></p>'),i.append(o),link=e("<a />",{href:"#"}).addClass("button").html("Backorder Item"),link.click(function(){i.slideUp(function(){e(this).closest("form").cart("add",t,n)})}),i.append(link),e(this).closest("form").append(i),e(i).slideDown(100)},ask_which_address:function(t){var t=[];e.get("/cart/addresses.json",function(n){t=n.addresses;var r=e("#shipping_calculator").html("<h4>Please select an address</h4>"),i=e("<ul />");e.each(t,function(t,n){var r=n.entry_street_address+"<br/>"+n.entry_city+(n.entry_state?", "+n.entry_state:"")+" "+n.entry_postcode,s=e("<li />",{"class":"address"}),o=e("<a />",{href:"#",html:r,click:function(t){t.preventDefault(),e(this).cart("show_shipping_quotes",n)}});s.append(o),i.append(s)}),i.append(e("<li />",{"class":"address",html:e("<a />",{href:"/addresses","class":"button",text:"Edit or add a new shipping address"})})),r.append(i),r.show("blind",{},300)})},show_shipping_quotes:function(t){var n=e("#shipping_calculator");n.html(e("<img />",{src:window.SFECONFIG.http_static+"/images/framework/666_loader.gif"})),e.ajax({url:"/cart/shipping_dinosaur.json",data:{address_book_id:t.address_book_id},success:function(r){var i=e("<ul />");r?e.each(r,function(r,s){var o=e("<li />");o.html('<span class="method_name">'+s.name+':</span> <span class="method_price price">'+s.cost+"</span>"),i.append(o),n.html(i),n.append("<br /><b>Shipping to:</b><br />"+t.entry_street_address+"<br />"+t.entry_city+(t.entry_state?", "+t.entry_state:"")+" "+t.entry_postcode+"<br /><br />"),e("#airlock").currency("render"),n.append(e("<a />",{href:"javascript: void(0);","class":"button",text:"Select another address",click:function(t){t.preventDefault(),e(this).cart("ask_which_address")}}))}):n.html("<h3>Unable to retrieve quotes</h3><p>We were unable to retrieve quotes for this order. This is likely due to the weight of the items in your cart. You may still place this order, and we will contact you with shipping options within 2 business days</p>")}})},ask_autonotify:function(t,n){e("#autonotify-dialog")[0]&&e("#autonotify-dialog").slideUp(100,function(){e("#autonotify-dialog").remove()});var r=e("<div />",{id:"autonotify-dialog",style:"display: none; width: 300px"}).addClass("dialog"),i=e("<div />",{id:"autonotify-dialog-content"}).addClass("autonotify"),s=e(this).offset();r.css("top",s.top+(e(this).height()+10)+"px"),r.css("left",s.left-(parseInt(r.css("width"))-e(this).width()+10)+"px"),i.html("<h3>Autonotify</h3><p>This item is not in stock. If you would like an email sent to you when this product becomes available, please press the Autonotify button below.</p><p>By default, the autonotification will be sent to your account's default email address. If you would like the autonotification sent to a different email address please select the <b>Use alternate email</b> option below and enter a valid address.</p>");var o=e("<a />",{id:"autonotify-dialog-cancel",href:"javascript:void(0)"}).addClass("cancel button").html("cancel");o.click(function(){e("#autonotify-dialog").slideUp(100,function(){e("#autonotify-dialog").remove()})});var u=e("<input />",{id:"use-alt-email",type:"checkbox",style:"vertical-align: middle;"}),a=e("<input />",{id:"alt-email",type:"email",value:n,style:"display: none; margin-top: 5px;"}),f=e("<div />",{id:"error-message",style:"display: none; width: 95%; color: red; font-style: italic; font-weight: normal; margin-top: 5px; margin-left: 3px;"});u.click(function(){e("#alt-email").toggle(),e("#error-message").hide()});var l=e("<a />",{id:"autonotify-dialog-confirm",href:"javascript: void(0)"}).addClass("confirm button").html("Autonotify");l.click(function(){var n=e("#use-alt-email").val(),r=e("#alt-email").val().replace(/ /g,"");if(n&&r.length==0)return e("#error-message").html("Please enter something!"),e("#error-message").show(),!1;e.post("/autonotify/add.json",{id:t,email:r},function(t){t.success?(e("#autonotify-dialog").slideUp(100,function(){e("#autonotify-dialog").remove()}),location.reload()):(e("#error-message").html(t.error),e("#error-message").show())})}),i.append(u),i.append(e("<span />",{style:"vertical-align: middle; padding-top: 5px;"}).html("<b>Use alternate email</b>")),i.append(e("<br />")),i.append(a),i.append(f),r.append(i),r.append(e("<br />")),r.append(l),r.append(o),e("#airlock").append(r),e(r).slideDown(100)},autonotify_email_update:function(t){var n=e("#customer-email-address-"+t).html();e("#update-email-dialog")[0]&&e("#update-email-dialog").slideUp(100,function(){e("#update-email-dialog").remove()});var r=e("<div />",{id:"update-email-dialog",style:"display: none; width: 255px;"}).addClass("dialog");r.css("top",e(this).offset().top+(e(this).height()+10)+"px"),r.css("left",e(this).offset().left-(parseInt(r.css("width"))-e(this).width()+10)+"px"),r.html('<div style="margin-top: 3px; margin-bottom: 5px;">Please enter a new email address:</div>');var i=e("<input />",{type:"email",id:"customer-email",value:n,style:"width: 150px;"}),s=e("<input />",{type:"button",id:"ok-button",value:"ok",style:""}),o=e("<input />",{type:"button",id:"cancel-button",value:"cancel",style:"margin-left: 3px;"}),u=e("<div />",{id:"update-email-error",style:"display: none; width: 95%; color: red; font-style: italic; font-weight: normal; margin-top: 5px; margin-left: 3px;"});s.addClass("button"),o.addClass("button"),s.click(function(){var n=e("#customer-email").val().replace(/ /g,"");e.post("/autonotify/update.json",{id:t,customer_email:n},function(r){r.success?(e("#update-email-dialog").remove(),e("#customer-email-address-"+t).html(n)):(e("#update-email-error").html(r.error),e("#update-email-error").show())})}),o.click(function(){e("#update-email-dialog")[0]&&e("#update-email-dialog").slideUp(100,function(){e("#update-email-dialog").remove()})}),r.append(i),r.append(s),r.append(o),r.append(u),e("#center").append(r),e(r).slideDown(100)}};e.fn.cart=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.cart")}}(jQuery),define("cart",function(){}),function(e){var t={init:function(e){},update_shipping_quotes:function(){e("#shipping_address").attr("disabled","disabled"),e("#continue").attr("disabled","disabled"),e("#shipping_quotes_cont").html('<img src="//dlnmh9ip6v2uc.cloudfront.net/images/framework/666_loader.gif" alt="loading..." /> Loading Shipping Quotes...');var t=e.ajax({type:"POST",url:"/orders/shipping_quotes",data:{shipping_address:e("#shipping_address").val(),radio:1,name:"shipping_method",id:"shipping_methods"}}).done(function(t){e("#shiplog").html(""),e("#shipping_quotes_cont").html(t),e("#shipping_methods").checkout("init_ship"),e("#airlock").currency("render"),e('*[data="fancybox"]').fancybox("fancybox",{speedIn:10,speedOut:10}),e("#shipping_quotes_bo_cont")[0]?(e("#shipping_quotes_bo_cont").html('<img src="//dlnmh9ip6v2uc.cloudfront.net/images/framework/666_loader.gif" alt="loading..." /> Loading Shipping Quotes...'),e("#shipping_quotes_bo_cont").load("/orders/shipping_quotes",{shipping_address:e("#shipping_address").val(),radio:1,backorder:1,name:"shipping_method_bo",id:"shipping_methods_bo"},function(){e("#shipping_methods").checkout("init_ship"),e("#airlock").currency("render"),e('*[data="fancybox"]').fancybox("fancybox",{speedIn:10,speedOut:10}),e("#shipping_address").removeAttr("disabled"),e("#continue").removeAttr("disabled")})):(e("#shipping_address").removeAttr("disabled"),e("#continue").removeAttr("disabled"))}).fail(function(){e("#shiplog").data("reqcount",e("#shiplog").data("reqcount")+1),e("#shiplog").data("reqcount")<3?(e("#shiplog").html("<p><em>There was an error retrieving shipping quotes, trying again...</em></p>"),e("#airlock").checkout("update_shipping_quotes")):(e("#shiplog").append("<p><em>giving up :(</em></p>"),e("#shipping_quotes_cont").html('<p>Please go back to the <a href="/cart">cart</a> and try again</p>'))})},init_ship:function(t){e(this).find(".ship-option").each(function(t,n){e(this).bind("mouseover",function(t){e(this).addClass("over")}),e(this).bind("mouseout",function(t){e(this).removeClass("over")})}),e(this).find('input[type="radio"]').each(function(t,n){e(this).bind("click",function(t,n){e(this).closest("table").find(".ship-option").each(function(t,n){e(this).removeClass("selected")}),e(this).closest("tr").effect("highlight",{},500,function(){e(this).attr({style:""}).addClass("selected")})})})},collapse_payment_methods:function(t){e(".payment-method:visible").each(function(){e(this).slideUp()}),e("#"+t).slideDown()},add_address:function(t){if("sa"!=t&&"ba"!=t)return!1;var n={company:e("#"+t+"_company").val(),first_name:e("#"+t+"_first_name").val(),last_name:e("#"+t+"_last_name").val(),street_address:e("#"+t+"_street_address").val(),street_address2:e("#"+t+"_street_address2").val(),city:e("#"+t+"_city").val(),postcode:e("#"+t+"_postcode").val(),zone:e("#"+t+"_state").val(),country:e("#"+t+"_country").val()};e.post("/addresses/create.json",n,function(n){if(0==n.success)e("#make_errors").html(""),e.each(n.errors,function(t,n){e("#make_errors").append(t+" is "+n+"<br>")});else if(1==n.success){var r="sa"==t?"#shipping_address":"#billing_address",i="sa"==t?"#add_shipping_address":"#add_billing_address",s="sa"==t?"#show_sa":"#show_ba";e(r).append(e("<option />",{value:n.id,selected:"selected"}).text(n.name)),"sa"==t&&e("#airlock").checkout("update_shipping_quotes"),e(i).slideUp(),e(s).show()}})}};e.fn.checkout=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.cart")}}(jQuery),define("checkout",function(){}),function(e){var t={init:function(t){e(".product-tile").length>0&&e(".product-tile").each(function(t,n){var r={sensitivity:2,interval:300,timeout:200,over:function(){e(this).find(".product-overlay").fadeIn(100)},out:function(){e(".product-overlay").hide()}};e(n).hoverIntent(r)})},toggle_product_image:function(t){var n=e("#product_image_medium_"+t)[0];e("#default_image")[0].src=n.src,e("#default_image_link")[0].href=e("#product_image_large_"+t)[0].href}};e.fn.product=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.product")}}(jQuery),define("product",function(){}),function(e){e.fn.hoverIntent=function(t,n){var r={sensitivity:7,interval:100,timeout:0};r=e.extend(r,n?{over:t,out:n}:t);var i,s,o,u,a=function(e){i=e.pageX,s=e.pageY},f=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(o-i)+Math.abs(u-s)<r.sensitivity)return e(n).unbind("mousemove",a),n.hoverIntent_s=1,r.over.apply(n,[t]);o=i,u=s,n.hoverIntent_t=setTimeout(function(){f(t,n)},r.interval)},l=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,r.out.apply(t,[e])},c=function(t){var n=jQuery.extend({},t),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),t.type=="mouseenter"?(o=n.pageX,u=n.pageY,e(i).bind("mousemove",a),i.hoverIntent_s!=1&&(i.hoverIntent_t=setTimeout(function(){f(n,i)},r.interval))):(e(i).unbind("mousemove",a),i.hoverIntent_s==1&&(i.hoverIntent_t=setTimeout(function(){l(n,i)},r.timeout)))};return this.bind("mouseenter",c).bind("mouseleave",c)}}(jQuery),define("hoverintent",function(){}),function(e){function n(e){return typeof e=="object"?e:{top:e,left:e}}var t=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};t.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1},t.window=function(t){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||r.compatMode=="BackCompat"?r.body:r.documentElement})},e.fn.scrollTo=function(r,i,s){return typeof i=="object"&&(s=i,i=0),typeof s=="function"&&(s={onAfter:s}),r=="max"&&(r=9e9),s=e.extend({},t.defaults,s),i=i||s.speed||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(i/=2),s.offset=n(s.offset),s.over=n(s.over),this._scrollable().each(function(){function h(e){u.animate(l,i,s.easing,e&&function(){e.call(this,r,s)})}var o=this,u=e(o),a=r,f,l={},c=u.is("html,body");switch(typeof a){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(a)){a=n(a);break}a=e(a,this);case"object":if(a.is||a.style)f=(a=e(a)).offset()}e.each(s.axis.split(""),function(e,n){var r=n=="x"?"Left":"Top",i=r.toLowerCase(),p="scroll"+r,d=o[p],v=t.max(o,n);if(f)l[p]=f[i]+(c?0:d-u.offset()[i]),s.margin&&(l[p]-=parseInt(a.css("margin"+r))||0,l[p]-=parseInt(a.css("border"+r+"Width"))||0),l[p]+=s.offset[i]||0,s.over[i]&&(l[p]+=a[n=="x"?"width":"height"]()*s.over[i]);else{var m=a[i];l[p]=m.slice&&m.slice(-1)=="%"?parseFloat(m)/100*v:m}/^\d+$/.test(l[p])&&(l[p]=l[p]<=0?0:Math.min(l[p],v)),!e&&s.queue&&(d!=l[p]&&h(s.onAfterFirst),delete l[p])}),h(s.onAfter)}).end()},t.max=function(t,n){var r=n=="x"?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var s="client"+r,o=t.ownerDocument.documentElement,u=t.ownerDocument.body;return Math.max(o[i],u[i])-Math.min(o[s],u[s])}}(jQuery),define("scrollTo",function(){}),function(e){var t,n,r,i,s,o,u,a,f,l,c=0,h={},p=[],d=0,v={},m=[],g=null,y=new Image,b=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,w=/[^\.]\.(swf)\s*$/i,E,S=1,x=0,T="",N,C,k=!1,L=e.extend(e("<div/>")[0],{prop:0}),A=e.browser.msie&&e.browser.version<7&&!window.XMLHttpRequest,O=function(){n.hide(),y.onerror=y.onload=null,g&&g.abort(),t.empty()},M=function(){if(!1===h.onError(p,c,h)){n.hide(),k=!1;return}h.titleShow=!1,h.width="auto",h.height="auto",t.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),D()},_=function(){var r=p[c],i,s,u,a,f,l;O(),h=e.extend({},e.fn.fancybox.defaults,typeof e(r).data("fancybox")=="undefined"?h:e(r).data("fancybox")),l=h.onStart(p,c,h);if(l===!1){k=!1;return}typeof l=="object"&&(h=e.extend(h,l)),u=h.title||(r.nodeName?e(r).attr("title"):r.title)||"",r.nodeName&&!h.orig&&(h.orig=e(r).children("img:first").length?e(r).children("img:first"):e(r)),u===""&&h.orig&&h.titleFromAlt&&(u=h.orig.attr("alt")),i=h.href||(r.nodeName?e(r).attr("href"):r.href)||null;if(/^(?:javascript)/i.test(i)||i=="#")i=null;h.type?(s=h.type,i||(i=h.content)):h.content?s="html":i&&(i.match(b)?s="image":i.match(w)?s="swf":e(r).hasClass("iframe")?s="iframe":i.indexOf("#")===0?s="inline":s="ajax");if(!s){M();return}s=="inline"&&(r=i.substr(i.indexOf("#")),s=e(r).length>0?"inline":"ajax"),h.type=s,h.href=i,h.title=u,h.autoDimensions&&(h.type=="html"||h.type=="inline"||h.type=="ajax"?(h.width="auto",h.height="auto"):h.autoDimensions=!1),h.modal&&(h.overlayShow=!0,h.hideOnOverlayClick=!1,h.hideOnContentClick=!1,h.enableEscapeButton=!1,h.showCloseButton=!1),h.padding=parseInt(h.padding,10),h.margin=parseInt(h.margin,10),t.css("padding",h.padding+h.margin),e(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){e(this).replaceWith(o.children())});switch(s){case"html":t.html(h.content),D();break;case"inline":if(e(r).parent().is("#fancybox-content")===!0){k=!1;return}e('<div class="fancybox-inline-tmp" />').hide().insertBefore(e(r)).bind("fancybox-cleanup",function(){e(this).replaceWith(o.children())}).bind("fancybox-cancel",function(){e(this).replaceWith(t.children())}),e(r).appendTo(t),D();break;case"image":k=!1,e.fancybox.showActivity(),y=new Image,y.onerror=function(){M()},y.onload=function(){k=!0,y.onerror=y.onload=null,P()},y.src=i;break;case"swf":h.scrolling="no",a='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+h.width+'" height="'+h.height+'"><param name="movie" value="'+i+'"></param>',f="",e.each(h.swf,function(e,t){a+='<param name="'+e+'" value="'+t+'"></param>',f+=" "+e+'="'+t+'"'}),a+='<embed src="'+i+'" type="application/x-shockwave-flash" width="'+h.width+'" height="'+h.height+'"'+f+"></embed></object>",t.html(a),D();break;case"ajax":k=!1,e.fancybox.showActivity(),h.ajax.win=h.ajax.success,g=e.ajax(e.extend({},h.ajax,{url:i,data:h.ajax.data||{},error:function(e,t,n){e.status>0&&M()},success:function(e,r,s){var o=typeof s=="object"?s:g;if(o.status==200){if(typeof h.ajax.win=="function"){l=h.ajax.win(i,e,r,s);if(l===!1){n.hide();return}if(typeof l=="string"||typeof l=="object")e=l}t.html(e),D()}}}));break;case"iframe":H()}},D=function(){var n=h.width,r=h.height;n.toString().indexOf("%")>-1?n=parseInt((e(window).width()-h.margin*2)*parseFloat(n)/100,10)+"px":n=n=="auto"?"auto":n+"px",r.toString().indexOf("%")>-1?r=parseInt((e(window).height()-h.margin*2)*parseFloat(r)/100,10)+"px":r=r=="auto"?"auto":r+"px",t.wrapInner('<div style="width:'+n+";height:"+r+";overflow: "+(h.scrolling=="auto"?"auto":h.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>'),h.width=t.width(),h.height=t.height(),H()},P=function(){h.width=y.width,h.height=y.height,e("<img />").attr({id:"fancybox-img",src:y.src,alt:h.title}).appendTo(t),H()},H=function(){var s,g;n.hide();if(i.is(":visible")&&!1===v.onCleanup(m,d,v)){e.event.trigger("fancybox-cancel"),k=!1;return}k=!0,e(o.add(r)).unbind(),e(window).unbind("resize.fb scroll.fb"),e(document).unbind("keydown.fb"),i.is(":visible")&&v.titlePosition!=="outside"&&i.css("height",i.height()),m=p,d=c,v=h,v.overlayShow?(r.css({"background-color":v.overlayColor,opacity:v.overlayOpacity,cursor:v.hideOnOverlayClick?"pointer":"auto",height:e(document).height()}),r.is(":visible")||(A&&e("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),r.show())):r.hide(),C=z(),j();if(i.is(":visible")){e(u.add(f).add(l)).hide(),s=i.position(),N={top:s.top,left:s.left,width:i.width(),height:i.height()},g=N.width==C.width&&N.height==C.height,o.fadeTo(v.changeFade,.3,function(){var n=function(){o.html(t.contents()).fadeTo(v.changeFade,1,I)};e.event.trigger("fancybox-change"),o.empty().removeAttr("filter").css({"border-width":v.padding,width:C.width-v.padding*2,height:h.autoDimensions?"auto":C.height-x-v.padding*2}),g?n():(L.prop=0,e(L).animate({prop:1},{duration:v.changeSpeed,easing:v.easingChange,step:R,complete:n}))});return}i.removeAttr("style"),o.css("border-width",v.padding);if(v.transitionIn=="elastic"){N=X(),o.html(t.contents()),i.show(),v.opacity&&(C.opacity=0),L.prop=0,e(L).animate({prop:1},{duration:v.speedIn,easing:v.easingIn,step:R,complete:I});return}v.titlePosition=="inside"&&x>0&&a.show(),o.css({width:C.width-v.padding*2,height:h.autoDimensions?"auto":C.height-x-v.padding*2}).html(t.contents()),i.css(C).fadeIn(v.transitionIn=="none"?0:v.speedIn,I)},B=function(e){return e&&e.length?v.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+e+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+v.titlePosition+'">'+e+"</div>":!1},j=function(){T=v.title||"",x=0,a.empty().removeAttr("style").removeClass();if(v.titleShow===!1){a.hide();return}T=e.isFunction(v.titleFormat)?v.titleFormat(T,m,d,v):B(T);if(!T||T===""){a.hide();return}a.addClass("fancybox-title-"+v.titlePosition).html(T).appendTo("body").show();switch(v.titlePosition){case"inside":a.css({width:C.width-v.padding*2,marginLeft:v.padding,marginRight:v.padding}),x=a.outerHeight(!0),a.appendTo(s),C.height+=x;break;case"over":a.css({marginLeft:v.padding,width:C.width-v.padding*2,bottom:v.padding}).appendTo(s);break;case"float":a.css("left",parseInt((a.width()-C.width-40)/2,10)*-1).appendTo(i);break;default:a.css({width:C.width-v.padding*2,paddingLeft:v.padding,paddingRight:v.padding}).appendTo(i)}a.hide()},F=function(){(v.enableEscapeButton||v.enableKeyboardNav)&&e(document).bind("keydown.fb",function(t){t.keyCode==27&&v.enableEscapeButton?(t.preventDefault(),e.fancybox.close()):(t.keyCode==37||t.keyCode==39)&&v.enableKeyboardNav&&t.target.tagName!=="INPUT"&&t.target.tagName!=="TEXTAREA"&&t.target.tagName!=="SELECT"&&(t.preventDefault(),e.fancybox[t.keyCode==37?"prev":"next"]())});if(!v.showNavArrows){f.hide(),l.hide();return}(v.cyclic&&m.length>1||d!==0)&&f.show(),(v.cyclic&&m.length>1||d!=m.length-1)&&l.show()},I=function(){e.support.opacity||(o.get(0).style.removeAttribute("filter"),i.get(0).style.removeAttribute("filter")),h.autoDimensions&&o.css("height","auto"),i.css("height","auto"),T&&T.length&&a.show(),v.showCloseButton&&u.show(),F(),v.hideOnContentClick&&o.bind("click",e.fancybox.close),v.hideOnOverlayClick&&r.bind("click",e.fancybox.close),e(window).bind("resize.fb",e.fancybox.resize),v.centerOnScroll&&e(window).bind("scroll.fb",e.fancybox.center),v.type=="iframe"&&e('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(e.browser.msie?'allowtransparency="true""':"")+' scrolling="'+h.scrolling+'" src="'+v.href+'"></iframe>').appendTo(o),i.show(),k=!1,e.fancybox.center(),v.onComplete(m,d,v),q()},q=function(){var e,t;m.length-1>d&&(e=m[d+1].href,typeof e!="undefined"&&e.match(b)&&(t=new Image,t.src=e)),d>0&&(e=m[d-1].href,typeof e!="undefined"&&e.match(b)&&(t=new Image,t.src=e))},R=function(e){var t={width:parseInt(N.width+(C.width-N.width)*e,10),height:parseInt(N.height+(C.height-N.height)*e,10),top:parseInt(N.top+(C.top-N.top)*e,10),left:parseInt(N.left+(C.left-N.left)*e,10)};typeof C.opacity!="undefined"&&(t.opacity=e<.5?.5:e),i.css(t),o.css({width:t.width-v.padding*2,height:t.height-x*e-v.padding*2})},U=function(){return[e(window).width()-v.margin*2,e(window).height()-v.margin*2,e(document).scrollLeft()+v.margin,e(document).scrollTop()+v.margin]},z=function(){var e=U(),t={},n=v.autoScale,r=v.padding*2,i;return v.width.toString().indexOf("%")>-1?t.width=parseInt(e[0]*parseFloat(v.width)/100,10):t.width=v.width+r,v.height.toString().indexOf("%")>-1?t.height=parseInt(e[1]*parseFloat(v.height)/100,10):t.height=v.height+r,n&&(t.width>e[0]||t.height>e[1])&&(h.type=="image"||h.type=="swf"?(i=v.width/v.height,t.width>e[0]&&(t.width=e[0],t.height=parseInt((t.width-r)/i+r,10)),t.height>e[1]&&(t.height=e[1],t.width=parseInt((t.height-r)*i+r,10))):(t.width=Math.min(t.width,e[0]),t.height=Math.min(t.height,e[1]))),t.top=parseInt(Math.max(e[3]-20,e[3]+(e[1]-t.height-40)*.5),10),t.left=parseInt(Math.max(e[2]-20,e[2]+(e[0]-t.width-40)*.5),10),t},W=function(e){var t=e.offset();return t.top+=parseInt(e.css("paddingTop"),10)||0,t.left+=parseInt(e.css("paddingLeft"),10)||0,t.top+=parseInt(e.css("border-top-width"),10)||0,t.left+=parseInt(e.css("border-left-width"),10)||0,t.width=e.width(),t.height=e.height(),t},X=function(){var t=h.orig?e(h.orig):!1,n={},r,i;return t&&t.length?(r=W(t),n={width:r.width+v.padding*2,height:r.height+v.padding*2,top:r.top-v.padding-20,left:r.left-v.padding-20}):(i=U(),n={width:v.padding*2,height:v.padding*2,top:parseInt(i[3]+i[1]*.5,10),left:parseInt(i[2]+i[0]*.5,10)}),n},V=function(){if(!n.is(":visible")){clearInterval(E);return}e("div",n).css("top",S*-40+"px"),S=(S+1)%12};e.fn.fancybox=function(t){return e(this).length?(e(this).data("fancybox",e.extend({},t,e.metadata?e(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){t.preventDefault();if(k)return;k=!0,e(this).blur(),p=[],c=0;var n=e(this).attr("rel")||"";!n||n==""||n==="nofollow"?p.push(this):(p=e("a[rel="+n+"], area[rel="+n+"]"),c=p.index(this)),_();return}),this):this},e.fancybox=function(t){var n;if(k)return;k=!0,n=typeof arguments[1]!="undefined"?arguments[1]:{},p=[],c=parseInt(n.index,10)||0;if(e.isArray(t)){for(var r=0,i=t.length;r<i;r++)typeof t[r]=="object"?e(t[r]).data("fancybox",e.extend({},n,t[r])):t[r]=e({}).data("fancybox",e.extend({content:t[r]},n));p=jQuery.merge(p,t)}else typeof t=="object"?e(t).data("fancybox",e.extend({},n,t)):t=e({}).data("fancybox",e.extend({content:t},n)),p.push(t);if(c>p.length||c<0)c=0;_()},e.fancybox.showActivity=function(){clearInterval(E),n.show(),E=setInterval(V,66)},e.fancybox.hideActivity=function(){n.hide()},e.fancybox.next=function(){return e.fancybox.pos(d+1)},e.fancybox.prev=function(){return e.fancybox.pos(d-1)},e.fancybox.pos=function(e){if(k)return;e=parseInt(e),p=m,e>-1&&e<m.length?(c=e,_()):v.cyclic&&m.length>1&&(c=e>=m.length?0:m.length-1,_());return},e.fancybox.cancel=function(){if(k)return;k=!0,e.event.trigger("fancybox-cancel"),O(),h.onCancel(p,c,h),k=!1},e.fancybox.close=function(){function t(){r.fadeOut("fast"),a.empty().hide(),i.hide(),e.event.trigger("fancybox-cleanup"),o.empty(),v.onClosed(m,d,v),m=h=[],d=c=0,v=h={},k=!1}if(k||i.is(":hidden"))return;k=!0;if(v&&!1===v.onCleanup(m,d,v)){k=!1;return}O(),e(u.add(f).add(l)).hide(),e(o.add(r)).unbind(),e(window).unbind("resize.fb scroll.fb"),e(document).unbind("keydown.fb"),o.find("iframe").attr("src",A&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),v.titlePosition!=="inside"&&a.empty(),i.stop();if(v.transitionOut=="elastic"){N=X();var n=i.position();C={top:n.top,left:n.left,width:i.width(),height:i.height()},v.opacity&&(C.opacity=1),a.empty().hide(),L.prop=1,e(L).animate({prop:0},{duration:v.speedOut,easing:v.easingOut,step:R,complete:t})}else i.fadeOut(v.transitionOut=="none"?0:v.speedOut,t)},e.fancybox.resize=function(){r.is(":visible")&&r.css("height",e(document).height()),e.fancybox.center(!0)},e.fancybox.center=function(){var e,t;if(k)return;t=arguments[0]===!0?1:0,e=U();if(!t&&(i.width()>e[0]||i.height()>e[1]))return;i.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+(e[1]-o.height()-40)*.5-v.padding)),left:parseInt(Math.max(e[2]-20,e[2]+(e[0]-o.width()-40)*.5-v.padding))},typeof arguments[0]=="number"?arguments[0]:200)},e.fancybox.init=function(){if(e("#fancybox-wrap").length)return;e("body").append(t=e('<div id="fancybox-tmp"></div>'),n=e('<div id="fancybox-loading"><div></div></div>'),r=e('<div id="fancybox-overlay"></div>'),i=e('<div id="fancybox-wrap"></div>')),s=e('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(i),s.append(o=e('<div id="fancybox-content"></div>'),u=e('<a id="fancybox-close"></a>'),a=e('<div id="fancybox-title"></div>'),f=e('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),l=e('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),u.click(e.fancybox.close),n.click(e.fancybox.cancel),f.click(function(t){t.preventDefault(),e.fancybox.prev()}),l.click(function(t){t.preventDefault(),e.fancybox.next()}),e.fn.mousewheel&&i.bind("mousewheel.fb",function(t,n){if(k)t.preventDefault();else if(e(t.target).get(0).clientHeight==0||e(t.target).get(0).scrollHeight===e(t.target).get(0).clientHeight)t.preventDefault(),e.fancybox[n>0?"prev":"next"]()}),e.support.opacity||i.addClass("fancybox-ie"),A&&(n.addClass("fancybox-ie6"),i.addClass("fancybox-ie6"),e('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(s))},e.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},e(document).ready(function(){e.fancybox.init()})}(jQuery),define("fancybox",function(){}),function(e){e.fn.lazyload=function(t){var n={threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};t&&e.extend(n,t);var r=this;return"scroll"==n.event&&e(n.container).bind("scroll",function(t){var i=0;r.each(function(){if(!e.abovethetop(this,n)&&!e.leftofbegin(this,n))if(!e.belowthefold(this,n)&&!e.rightoffold(this,n))e(this).trigger("appear");else if(i++>n.failurelimit)return!1});var s=e.grep(r,function(e){return!e.loaded});r=e(s)}),this.each(function(){var t=this;undefined==e(t).attr("original")&&e(t).attr("original",e(t).attr("src")),"scroll"!=n.event||undefined==e(t).attr("src")||n.placeholder==e(t).attr("src")||e.abovethetop(t,n)||e.leftofbegin(t,n)||e.belowthefold(t,n)||e.rightoffold(t,n)?(n.placeholder?e(t).attr("src",n.placeholder):e(t).removeAttr("src"),t.loaded=!1):t.loaded=!0,e(t).one("appear",function(){this.loaded||e("<img />").bind("load",function(){e(t).hide().attr("src",e(t).attr("original"))[n.effect](n.effectspeed),t.loaded=!0}).attr("src",e(t).attr("original"))}),"scroll"!=n.event&&e(t).bind(n.event,function(n){t.loaded||e(t).trigger("appear")})}),e(n.container).trigger(n.event),this},e.belowthefold=function(t,n){if(n.container===undefined||n.container===window)var r=e(window).height()+e(window).scrollTop();else var r=e(n.container).offset().top+e(n.container).height();return r<=e(t).offset().top-n.threshold},e.rightoffold=function(t,n){if(n.container===undefined||n.container===window)var r=e(window).width()+e(window).scrollLeft();else var r=e(n.container).offset().left+e(n.container).width();return r<=e(t).offset().left-n.threshold},e.abovethetop=function(t,n){if(n.container===undefined||n.container===window)var r=e(window).scrollTop();else var r=e(n.container).offset().top;return r>=e(t).offset().top+n.threshold+e(t).height()},e.leftofbegin=function(t,n){if(n.container===undefined||n.container===window)var r=e(window).scrollLeft();else var r=e(n.container).offset().left;return r>=e(t).offset().left+n.threshold+e(t).width()},e.extend(e.expr[":"],{"below-the-fold":"$.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!$.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"$.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!$.rightoffold(a, {threshold : 0, container: window})"})}(jQuery),define("lazyload",function(){}),function(e){var t={init:function(e){},ask_which_tile:function(t,n){var r=e("<div />",{id:"wishlist-overlay","class":"wishlist-overlay"}),i=e("<ul />");SFECONFIG.auth&&e.get("/wish_lists/index.json",function(s){s.status&&(s.wish_lists.length<1?e.get("/wish_lists/make.json",function(i){console.log(i),r.html(i.dialog);var s=r.find("form");s.attr("action","/wish_lists/create.json"),s.find(".cancel").click(function(){e("#wishlist-overlay").slideUp(100,function(){e("#wishlist-overlay").remove()})}),s.submit(function(i){return e.post(e(this).attr("action"),e(this).serialize(),function(i){e(r).slideUp(100,function(){e(r).remove(),e(orig).wishlist("ask_which_wishlist",t,n)})}),!1}),e("#ask_which_wish_list_"+t).append(r),e(e("#ask_which_wish_list_"+t)).slideDown(100)}):(r.html("<h3>Select a Wish List</h3>"),e.each(s.wish_lists,function(n,r){var s=e("<li />"),o=e("<a />",{href:"javascript:void(0)"}).html(r);o.click(function(){e(e("#ask_which_wish_list_"+t)).slideUp(100,function(){e(this).wishlist("add_to_wish_list",n,t,1)})}),s.append(o),i.append(s)}),r.append(i),e("#ask_which_wish_list_"+t).append(r),e(e("#ask_which_wish_list_"+t)).slideDown(100)))})},ask_which_wishlist:function(t,n){e("#wishlist-dialog").size()>0&&e("#wishlist-dialog").slideUp(100).remove(),e("#autonotify-dialog").size()>0&&e("#autonotify-dialog").slideUp(100).remove();var r=e("<div />",{id:"wishlist-dialog",style:"display: none; width: 300px"}).addClass("dialog"),i=e("<ul />"),s=e("<a />",{id:"wishlist-dialog-cancel",href:"javascript:void(0)"}).addClass("cancel button").html("Cancel");s.click(function(){e("#wishlist-dialog").slideUp(100,function(){e("#wishlist-dialog").remove()})});var o=this,u=e(this).offset();r.css({top:u.top+(e(this).height()+10)+"px"}),r.css({left:u.left-(parseInt(r.css("width"))-e(this).width()+10)+"px"}),r.html("<h3>Select a Wish List</h3>"),r.append(i),r.append(s);if(!SFECONFIG.auth)return!1;e.get("/wish_lists/index.json",function(s){if(!s.status)return!1;s.wish_lists.length<1?e.get("/wish_lists/make.json",function(i){r.html(i.dialog);var s=r.find("form");s.attr("action","/wish_lists/create.json"),s.find(".cancel").click(function(){e("#wishlist-dialog").slideUp(100,function(){e("#wishlist-dialog").remove()})}),s.submit(function(i){return e.post(e(this).attr("action"),e(this).serialize(),function(i){e(r).slideUp(100,function(){e(r).remove(),e(o).wishlist("ask_which_wishlist",t,n)})}),!1}),e("#airlock").append(r),e(r).slideDown(100),e("#wl-title").focus()}):(e.each(s.wish_lists,function(s,o){var u=e("<li />"),a=e("<a />",{href:"javascript:void(0)"}).html(o);a.click(function(){e(r).slideUp(100,function(){e(this).wishlist("add_to_wish_list",s,t,n)})}),u.append(a),i.append(u)}),e("#airlock").append(r),e(r).slideDown(100))})},add_to_wish_list:function(t,n,r){e.post("/wish_lists/"+t+"/add.json",{product_id:n,quantity:r},function(i){i.status?e("#wl_added_qty_"+n)[0]?(e("#wl_added_qty_"+n).html(r),e("#wl_link_"+n).attr("href","/wish_lists/"+t),e("#wl_link_"+n).html(i.wish_list.title),e("#added_to_wish_list_"+n).show("fade")):e("#airlock").cart("remove",n)&&e("#cart_row_"+n).slideUp(100):alert("An error occurred adding this item :(")})}};e.fn.wishlist=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.tooltip")}}(jQuery),define("wishlists",function(){}),function(e){var t={init:function(e){},form_navigate:function(){e("input#form_multi_page_nav").val()!=""&&e("form[name=job_application]").submit()},application_form_navigate_next:function(){e("input#form_multi_page_nav").val("next"),e(this).employment("form_navigate")},application_form_navigate_back:function(){e("input#form_multi_page_nav").val("back"),e(this).employment("form_navigate")},application_form_navigate_complete:function(){e("input#form_multi_page_nav").val("complete"),e(this).employment("form_navigate")},application_form_navigate_page:function(t){parseInt(t)>0&&(e("input#form_multi_page_nav").val(t),e(this).employment("form_navigate"))},application_update:function(t){var n="You cannot make any changes to a completed application.\n\n";n+="By pressing the OK button, this application will be taken out of consideration ",n+="for the position while you make the necessary changes. When you are finished ",n+="making changes, you will have the opportunity to submit the application again.",n+="\n\n",n+="Press OK if you wish to proceed.",confirm(n)&&e.ajax("/apply/update.json",{type:"post",data:{id:t},success:function(e,n,r){e.success?location.href="/apply/"+t:alert("Sorry, there was a problem with this operation:\n\n"+e.error)}})},enable_application_select:function(){"new"==e(this).val()?e("select#select_app_id").prop("disabled",!0):"app"==e(this).val()&&e("select#select_app_id").prop("disabled",!1)},toggle_application_selection:function(){e("div#div-app-select").slideToggle()},add_employer_block:function(){var t=0;e("div.employment div.content").each(function(){t++}),e.ajax("/apply/getemployerblock",{type:"post",data:{index:t},success:function(n,r,i){e("#employerinfo").append(n),e("#employer_company_name_"+t).focus()}})},remove_employer_block:function(){var t=e(this).parent().parent();return e(t).slideUp(function(){e(t).remove()}),!1},change_stillworkhere:function(){var t=e(this).is(":checked");this.parent().find("select.employed-to").each(function(n,r){t?e(r).attr("disabled","disabled"):e(r).removeAttr("disabled")})},toggle_help:function(){var t=this;this.parent().next("div").slideToggle(function(){"formatting help"==e(t).text()?e(t).text("hide help"):e(t).text("formatting help")})},update_dept_selection:function(){var t=e(this).is(":checked");this.parent().find("input[name^=appfordept]").each(function(n,r){"appfordept_any"!=e(r).attr("name")&&(t?(e(r).prop("checked",!1),e(r).prop("disabled",!0)):e(r).prop("disabled",!1))})},toggle_hdyfu_other:function(){"other"==e(this).val()?e("#hdyfu").slideDown(function(){e("#howdidyoufindus_other").focus()}):e("#hdyfu").slideUp()},toggle_convictedofcrime:function(){"yes"==e(this).val()?e("#convictedofcrime_explaindiv").slideDown():e("#convictedofcrime_explaindiv").slideUp()},toggle_beenfired:function(){"yes"==e(this).val()?e("#beenfired_explaindiv").slideDown():e("#beenfired_explaindiv").slideUp()},toggle_selected_resume_type:function(){switch(e(this).val()){case"text":e("#div_resume_upload").slideUp(function(){e("#div_resume_text").slideDown()});break;case"upload":e("#div_resume_text").slideUp(function(){e("#div_resume_upload").slideDown()});break;default:}},show_resume_upload_dialog:function(){if(e("#resumeuploaddialog")[0]){e("#resumeuploaddialog").slideUp(100,function(){e(this).remove()});return}var t=e("#id").val(),n=e("#resume_file").val(),r="font-size: 12px; margin-right: 5px;",i=e("<div />",{id:"resumeuploaddialog",style:"display: none; width: 425px"}).addClass("dialog"),s=e("<div />",{id:"content"}).addClass("employment"),o=this,u=e(this).offset();i.css({top:u.top+(e(this).height()+10)+"px"}),i.css({left:u.left-(parseInt(i.css("width"))-e(this).width()+10)+"px"}),n.length>0?s.html("<h3>Upload Your Resum&eacute</h3><p>You currently have a resum&eacute on file for this application.</p><p>If you would like to upload a newer version of your resume, select a file then press the <strong>Upload</strong> button. Only PDF files are allowed.</p>"):s.html("<h3>Upload Your Resum&eacute</h3><p>You do not currently have a resum&eacute on file for this application.</p><p>To upload your resume, select the file then press the <strong>Upload</strong> button. Only PDF files are allowed.</p>");var a=e("<a />",{id:"buttoncancel",href:"javascript:void(0)",style:r}).addClass("button").html("Cancel");a.click(function(){e("#resumeuploaddialog").slideUp(100,function(){e(this).remove()})});var f=e("<a />",{id:"buttonupload",href:"javascript:void(0)",style:r}).addClass("button").html("Upload");e(f).click(function(){if(e("#resumefile").val().length>0){var r=e("form#uploadresumeform"),i="Warning: you currently have a resume on file!\n\n";i+="If you choose to continue, the version of the resume you have uploaded will be removed.\n\n",i+="Press OK if you wish to proceed.";if(n.length==0||confirm(i)){r.submit(),e("#resumeuploaderror").slideUp(function(){e("#resumeuploadsuccess").html("uploading resum&eacute, please wait..."),e("#resumeuploadsuccess").slideDown()});var s=0,o=setInterval(function(){var n=e("iframe#resumeuploadiframe").contents().find("div#fileuploadresponse");if(null!=n){clearInterval(o);var r=e(n).find("#success").text();if(r=="1"){var i="/apply/"+t+"/downloadresume";e("#resumeuploadmessage").html('<strong><em>Successfully uploaded your resum&eacute;. Click <a href="'+i+'">here</a> to view it.</em></strong>');var u=e(n).find("#file").text();e("#resume_file").val(u),e("#resumeuploaddialog").slideUp(100,function(){e(this).remove()})}else{var a=e(n).find("#error").text(),f="";switch(a){case"UPLOAD_TYPE_NOT_ALLOWED":f="Sorry, only PDF files are allowed.";break;case"UPLOAD_FILE_TOO_BIG":f="The file you tried to upload is too big, only files smaller than 10MiB are allowed.";break;case"UPLOAD_FILE_NAME_INVALID":case"UPLOAD_ERROR_MOVING_FILE":default:f="Unkown error uploading file, please try again."}e("#resumeuploadsuccess").fadeOut(function(){e("#resumeuploaderror").html(f),e("#resumeuploaderror").fadeIn()})}}s++>600&&(clearInterval(o),e("#resumeuploadsuccess").fadeOut(function(){e("#resumeuploaderror").html("Timeout, aborting file upload."),e("#resumeuploaderror").fadeIn()}))},500)}}else e("#resumeuploaderror").html("Please select a file first!"),e("#resumeuploaderror").fadeIn()});var l=e("<input />",{type:"hidden",name:"appid",id:"appid",value:t}),c=e("<input />",{type:"file",name:"resumefile",id:"resumefile",size:"30",style:"width: 100%"});e(c).click(function(){e("#resumeuploadsuccess").hide(),e("#resumeuploaderror").hide()});var h=e("<iframe />",{id:"resumeuploadiframe",name:"resumeuploadiframe",style:"display: none;"}),p=e("<div />",{id:"resumeuploadsuccess",style:"display: none;"}),d=e("<div />",{id:"resumeuploaderror",style:"display: none;"}),v=e("<form />",{id:"uploadresumeform",method:"POST",action:"/apply/uploadresume",target:"resumeuploadiframe",enctype:"multipart/form-data"});v.append(l),v.append(c),v.append(e("<br />"));var m=e("<div />",{id:"uploadbuttons",style:"margin-bottom: 5px; margin-top: 5px;"});m.append(f),m.append(a),v.append(m),v.append(h),s.append(v),s.append(p),s.append(d),i.append(s),e("#airlock").append(i),i.slideDown(100)}};e.fn.employment=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.employment")}}(jQuery),define("employment",function(){}),window.console||(console={log:function(e){alert(e)}}),require(["jqueryui","main","sfeutil","banner","cookie","currency","comment","cart","checkout","product","hoverintent","scrollTo","fancybox","lazyload","wishlists","employment"]),define("sfe",function(){})